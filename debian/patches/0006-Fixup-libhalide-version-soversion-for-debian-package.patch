From: Roman Lebedev <lebedev.ri@gmail.com>
Date: Thu, 6 Jan 2022 15:11:59 +0300
Subject: Fixup libhalide version/soversion for debian package

Forwarded: not-needed
---
 src/CMakeLists.txt | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

diff --git a/src/CMakeLists.txt b/src/CMakeLists.txt
index 5f56d11..0df0294 100644
--- a/src/CMakeLists.txt
+++ b/src/CMakeLists.txt
@@ -387,8 +387,8 @@ mark_as_advanced(Halide_SOVERSION_OVERRIDE)
 
 set_target_properties(Halide PROPERTIES
                       POSITION_INDEPENDENT_CODE ON
-                      VERSION ${Halide_VERSION}
-                      SOVERSION ${Halide_SOVERSION_OVERRIDE})
+                      SOVERSION ${Halide_SOVERSION_OVERRIDE}
+                      OUTPUT_NAME Halide${Halide_VERSION_MAJOR})
 
 target_include_directories(Halide INTERFACE "$<BUILD_INTERFACE:${Halide_BINARY_DIR}/include>")
 add_dependencies(Halide HalideIncludes)
